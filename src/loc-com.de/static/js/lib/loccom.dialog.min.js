(function(b){b.widget("loccom.dialog",{options:{submitButton:!0,cancelButton:!0,defaultCancel:!0,title:"",submit:null,cancel:null},_create:function(){var a=this;this.element.addClass("ui-loccom-dialog");this.overlay=this.element.wrap(b("<div/>",{"class":"ui-loccom-overlay"})).parent();this.overlay.on("click",function(){a._trigger("cancel")});this.element.on("click",function(a){a.stopPropagation()});""!==this.options.title&&(this.title=b("<h2/>",{text:this.options.title}),this.element.prepend(this.title));
if(this.options.submitButton||this.options.cancelButton)this.buttons=b("<div/>",{"class":"ui-loccom-dialog-buttons"}),this.element.append(this.buttons);this.options.submitButton&&(this.submitButton=b("<input/>",{"class":"ui-loccom-dialog-submit",type:"button",value:!0===this.options.submitButton?"Abschicken":this.options.submitButton}),this.buttons.append(this.submitButton));this.options.cancelButton&&(this.cancelButton=b("<input/>",{"class":"ui-loccom-dialog-cancel",type:"button",value:!0===this.options.cancelButton?
"Abbrechen":this.options.cancelButton}),this.buttons.append(this.cancelButton));this.element.on("dialogcancel",function(){a.options.defaultCancel&&a.hide(function(){a.empty()})});this.element.on("dialogsubmit",function(){a.hide(function(){a.empty()})});this.element.find(".ui-loccom-dialog-cancel").on("click",function(){a._trigger("cancel")});this.element.find(".ui-loccom-dialog-submit").on("click",function(){a._trigger("submit")})},show:function(a){this.element.fadeIn();this.overlay.fadeIn(a)},hide:function(a){this.overlay.fadeOut(a)},
empty:function(){this.element.find("input:text, input:password,input:file, select, textarea").val("");this.element.find("input:radio, input:checkbox").removeAttr("checked").removeAttr("selected");this.element.find(".cancel-empty").empty()},_destroy:function(){this.overlay.remove()},_setOption:function(a,c){"title"===a&&this.title.text(c);"cancelButton"===a&&this.cancelButton.val(c);"submitButton"===a&&this.submitButton.val(c);b.Widget.prototype._setOption.call(this,a,c)}})})(jQuery,document,window);
